<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Météo</title>
</head>
<body>
  <h1>Météo</h1>
  <input type="text" id="city" placeholder="Entrez une ville">
  <button onclick="getWeather()">Voir la météo</button>
  <div id="result"></div>

  <script>
    const apiKey = 'fb983b8e6280af40c27952a91c6b014b';

    async function getWeather() {
      const city = document.getElementById('city').value;
      const url = `https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${apiKey}&units=metric&lang=fr`;

      const response = await fetch(url);
      const data = await response.json();

      if (data.cod === "200") {
        let html = `<h2>Prévisions pour ${data.city.name}</h2>`;
        for (let i = 0; i < 5; i++) {
          const forecast = data.list[i];
          const date = new Date(forecast.dt * 1000);
          const heure = date.toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' });

          html += `
            <p><strong>${heure}</strong> : ${forecast.main.temp}°C, ${forecast.weather[0].description}</p>
          `;
        }
        document.getElementById('result').innerHTML = html;
      } else {
        document.getElementById('result').innerText = 'Ville non trouvée';
      }
    }
  </script>
</body>
</html>
